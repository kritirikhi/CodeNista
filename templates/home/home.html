{% extends 'base.html' %}

{% block title %}
    CodeNista Blogs
{% endblock title %}

{% block js %}
  <script>
    let previews = document.getElementByClassName("preview")
    Arrays.from(previews).forEach(()=>{
      element.innerHTML = element.innerText
    })
  </script>
{% endblock js %}


{% block body %}

<style>

  /*--------------------------------------------------------------
  # Hero Section
  --------------------------------------------------------------*/
  #hero {
    width: 100%;
    height: 75vh;
    background: url("../../../static/images/typing1.jpg") top center; 
    background-size: cover;
    position: relative;
    margin-bottom: -80px;
  }

  #hero:before {
    content: "";
    background: rgba(112, 185, 176, 0.85);
    position: absolute;
    bottom: 0;
    top: 0;
    left: 0;
    right: 0;
  }

  #hero .hero-container {
    position: absolute;
    bottom: 0;
    top: 0;
    left: 0;
    right: 0;
    display: flex;
    padding-top: 80px;
    align-items: center;
    flex-direction: column;
    text-align: center;
    margin-top:150px;
    color:white;
  }

  #hero .btn-get-started {
    font-family: "Lato", sans-serif;
    font-weight: 400;
    font-size: 16px;
    letter-spacing: 1px;
    display: inline-block;
    padding: 8px 28px 10px 28px;
    border-radius: 50px;
    transition: 0.5s;
    border: 1px solid #fff;
    color: #fff;
    margin-top:45px
  }

  #hero .btn-get-started:hover {
    background: #fff;
    color: #70b9b0;
    border: 1px solid #70b9b0;
  }

  @media (min-width: 1024px) {
    #hero {
      background-attachment: fixed;
    }
  }

  @media (max-width: 768px) {
    #hero h1 {
      font-size: 28px;
      line-height: 36px;
    }
    #hero h2 {
      font-size: 18px;
      line-height: 24px;
      margin-bottom: 30px;
    }
  }
</style>


  <!-- ======= Hero Section ======= -->
    <section id="hero">
      <div class="hero-container">
        <h1>Welcome to CodeNista</h1>
        <h2 class='lead'> <b>You Can Find Coding Related Stuff Of Your Choice</b> </h2>
        <a href="/blog/createpost" class="btn-get-started scrollto">Create Blog</a>
      </div>
    </section>
  <!-- #hero -->

  <!-- ======= Our Popular Posts Section ======= -->
    <section style="margin-bottom:-55px; margin-top:110px">
      <div class="container">
        <div class="text-center" style="margin-top:60px;color:#5c6acb">
          <h2>Popular Posts</h2>
        </div>
      </div>
    </section>
    
<div class="container mb-5" style="margin-top:100px">

    {% for post in topposts %}

    <div class="row mb-2">
        <div class="col-sm">
          <div class="card flex-md-row mb-4 box-shadow h-md-250">
            <div class="card-body d-flex flex-column align-items-start">
              <strong class="d-inline-block mb-2 text-primary">By: {{post.author}}</strong>
              <h3 class="mb-0">
                <a class="text-dark" href="/blog/{{post.slug}}">{{post.title}}</a>
              </h3>
              <div class="mb-1 text-muted">{{post.timestamp}} </div>
              <p class="card-text mb-auto">{{post.content|safe|truncatechars:200}}</p>
              <strong><a href="/blog/{{post.slug}}">Continue Reading</a></strong>
            </div>
          </div>
        </div>
    </div>

    {% endfor %}
</div>

{% endblock body %}
